{
  "info": {
    "name": "Sistema de Gesti√≥n Cl√≠nica - API Collection",
    "description": "Colecci√≥n completa de APIs para el Sistema de Gesti√≥n Cl√≠nica con ejemplos reales, tests automatizados y documentaci√≥n detallada",
    "version": "1.0.0",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{token}}",
        "type": "string"
      }
    ]
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080/api",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    },
    {
      "key": "testPatientCedula",
      "value": "1122334455",
      "type": "string"
    },
    {
      "key": "testDoctorCedula",
      "value": "87654321",
      "type": "string"
    },
    {
      "key": "testNurseCedula",
      "value": "34567890",
      "type": "string"
    },
    {
      "key": "testSupportCedula",
      "value": "45678901",
      "type": "string"
    },
    {
      "key": "testHRHCedula",
      "value": "12345678",
      "type": "string"
    }
  ],
  "item": [
    {
      "name": "üîê Authentication",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/public/health",
              "host": ["{{baseUrl}}"],
              "path": ["public", "health"]
            },
            "description": "Verificar estado del backend y conectividad"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "GET",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/public/health",
                  "host": ["{{baseUrl}}"],
                  "path": ["public", "health"]
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"status\": \"UP\",\n    \"timestamp\": \"2024-12-20T10:30:00\",\n    \"version\": \"1.0.0\",\n    \"database\": \"CONNECTED\",\n    \"services\": {\n        \"authentication\": \"UP\",\n        \"users\": \"UP\",\n        \"patients\": \"UP\"\n    }\n}"
            }
          ]
        },
        {
          "name": "Login - Recursos Humanos",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"rrhh\",\n  \"password\": \"rrhh123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login con usuario de Recursos Humanos para obtener token JWT"
          },
          "response": [
            {
              "name": "Success",
              "originalRequest": {
                "method": "POST",
                "header": [],
                "url": {
                  "raw": "{{baseUrl}}/auth/login",
                  "host": ["{{baseUrl}}"],
                  "path": ["auth", "login"]
                }
              },
              "status": "OK",
              "code": 200,
              "header": [
                {
                  "key": "Content-Type",
                  "value": "application/json"
                }
              ],
              "body": "{\n    \"success\": true,\n    \"user\": {\n        \"cedula\": \"12345678\",\n        \"username\": \"rrhh\",\n        \"fullName\": \"Mar√≠a Gonz√°lez\",\n        \"email\": \"rrhh@clinica.com\",\n        \"role\": \"HUMAN_RESOURCES\",\n        \"active\": true\n    },\n    \"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3OCIsInVzZXJuYW1lIjoicnJoaCIsInJvbGUiOiJIVU1BTl9SRVNPVVJDRVMiLCJleHAiOjE3MzQ2OTQwMDB9.mock-signature\"\n}"
            }
          ]
        },
        {
          "name": "Login - Personal Administrativo",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"admin2\",\n  \"password\": \"admin123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login con usuario administrativo"
          }
        },
        {
          "name": "Login - M√©dico",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"drgarcia\",\n  \"password\": \"doctor123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login con usuario m√©dico"
          }
        },
        {
          "name": "Login - Enfermera",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"enfmorales\",\n  \"password\": \"nurse123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login con usuario de enfermer√≠a"
          }
        },
        {
          "name": "Login - Soporte de Informaci√≥n",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"soporte\",\n  \"password\": \"soporte123\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            },
            "description": "Login con usuario de soporte t√©cnico"
          }
        }
      ]
    },
    {
      "name": "üë• Recursos Humanos (HUMAN_RESOURCES)",
      "item": [
        {
          "name": "Crear Usuario - M√©dico",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cedula\": \"87654321\",\n  \"username\": \"drgarcia\",\n  \"fullName\": \"Carlos Garc√≠a Medina\",\n  \"email\": \"drgarcia@clinica.com\",\n  \"phoneNumber\": \"3001234567\",\n  \"address\": \"Calle 123 #45-67, Apto 8B\",\n  \"birthDate\": \"1980-05-15\",\n  \"role\": \"DOCTOR\",\n  \"password\": \"Doctor123!\",\n  \"emergencyContact\": {\n    \"name\": \"Ana Garc√≠a\",\n    \"relationship\": \"Esposa\",\n    \"phoneNumber\": \"3007654321\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "Crear nuevo usuario m√©dico con informaci√≥n completa"
          }
        },
        {
          "name": "Crear Usuario - Enfermera",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cedula\": \"34567890\",\n  \"username\": \"enfmorales\",\n  \"fullName\": \"Carmen Morales\",\n  \"email\": \"enfmorales@clinica.com\",\n  \"phoneNumber\": \"3012345678\",\n  \"address\": \"Carrera 45 #67-89\",\n  \"birthDate\": \"1985-08-20\",\n  \"role\": \"NURSE\",\n  \"password\": \"Nurse123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "Crear nuevo usuario de enfermer√≠a"
          }
        },
        {
          "name": "Crear Usuario - Soporte TI",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cedula\": \"45678901\",\n  \"username\": \"soporte\",\n  \"fullName\": \"Roberto S√°nchez\",\n  \"email\": \"soporte@clinica.com\",\n  \"phoneNumber\": \"3023456789\",\n  \"address\": \"Avenida Tecnol√≥gica #123\",\n  \"birthDate\": \"1982-12-10\",\n  \"role\": \"INFORMATION_SUPPORT\",\n  \"password\": \"Soporte123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "Crear nuevo usuario de soporte t√©cnico"
          }
        },
        {
          "name": "Listar Todos los Usuarios",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            },
            "description": "Obtener lista completa de usuarios activos"
          }
        },
        {
          "name": "Buscar Usuario por C√©dula",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/cedula/{{testDoctorCedula}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "cedula", "{{testDoctorCedula}}"]
            },
            "description": "Buscar usuario espec√≠fico por n√∫mero de c√©dula"
          }
        },
        {
          "name": "Buscar Usuario por Username",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/username/drgarcia",
              "host": ["{{baseUrl}}"],
              "path": ["users", "username", "drgarcia"]
            },
            "description": "Buscar usuario por nombre de usuario"
          }
        },
        {
          "name": "Usuarios por Rol - M√©dicos",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/role/DOCTOR",
              "host": ["{{baseUrl}}"],
              "path": ["users", "role", "DOCTOR"]
            },
            "description": "Obtener lista de usuarios con rol DOCTOR"
          }
        },
        {
          "name": "Usuarios Activos",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/active",
              "host": ["{{baseUrl}}"],
              "path": ["users", "active"]
            },
            "description": "Obtener lista de usuarios activos"
          }
        },
        {
          "name": "Actualizar Usuario",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"fullName\": \"Carlos Garc√≠a Medina\",\n  \"email\": \"drgarcia@clinica.com\",\n  \"phoneNumber\": \"3001234567\",\n  \"address\": \"Calle 123 #45-67, Apto 8B\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/{{testDoctorCedula}}",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{testDoctorCedula}}"]
            },
            "description": "Actualizar informaci√≥n de usuario existente"
          }
        },
        {
          "name": "Activar Usuario",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/{{testDoctorCedula}}/activate",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{testDoctorCedula}}", "activate"]
            },
            "description": "Activar usuario previamente desactivado"
          }
        },
        {
          "name": "Desactivar Usuario",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/users/{{testDoctorCedula}}/deactivate",
              "host": ["{{baseUrl}}"],
              "path": ["users", "{{testDoctorCedula}}", "deactivate"]
            },
            "description": "Desactivar usuario (soft delete)"
          }
        }
      ]
    },
    {
      "name": "üè• Personal Administrativo (ADMINISTRATIVE_STAFF)",
      "item": [
        {
          "name": "Registrar Paciente",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"cedula\": \"{{testPatientCedula}}\",\n  \"firstName\": \"Mar√≠a\",\n  \"lastName\": \"Rodr√≠guez\",\n  \"birthDate\": \"1985-03-20\",\n  \"gender\": \"FEMENINO\",\n  \"phoneNumber\": \"3019876543\",\n  \"address\": \"Avenida Principal #123, Apto 4A\",\n  \"email\": \"maria.rodriguez@email.com\",\n  \"emergencyContact\": {\n    \"name\": \"Juan Rodr√≠guez\",\n    \"relationship\": \"Esposo\",\n    \"phoneNumber\": \"3019876544\"\n  },\n  \"insurancePolicy\": {\n    \"companyName\": \"Sura EPS\",\n    \"policyNumber\": \"EPS123456789\",\n    \"expirationDate\": \"2025-12-31\",\n    \"isActive\": true\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/patients",
              "host": ["{{baseUrl}}"],
              "path": ["patients"]
            },
            "description": "Registrar nuevo paciente con informaci√≥n completa incluyendo contacto de emergencia y seguro m√©dico"
          }
        },
        {
          "name": "Listar Pacientes",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/patients",
              "host": ["{{baseUrl}}"],
              "path": ["patients"]
            },
            "description": "Obtener lista completa de pacientes registrados"
          }
        },
        {
          "name": "Buscar Paciente por C√©dula",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/patients/cedula/{{testPatientCedula}}",
              "host": ["{{baseUrl}}"],
              "path": ["patients", "cedula", "{{testPatientCedula}}"]
            },
            "description": "Buscar paciente espec√≠fico por n√∫mero de c√©dula"
          }
        },
        {
          "name": "Crear Cita M√©dica",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientCedula\": \"{{testPatientCedula}}\",\n  \"doctorCedula\": \"{{testDoctorCedula}}\",\n  \"appointmentDateTime\": \"2024-12-20T10:30:00\",\n  \"status\": \"PROGRAMADA\",\n  \"reason\": \"Consulta general de control\",\n  \"notes\": \"Paciente refiere dolor de cabeza ocasional y mareos\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/appointments",
              "host": ["{{baseUrl}}"],
              "path": ["appointments"]
            },
            "description": "Crear nueva cita m√©dica programada"
          }
        },
        {
          "name": "Listar Citas",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/appointments",
              "host": ["{{baseUrl}}"],
              "path": ["appointments"]
            },
            "description": "Obtener lista de todas las citas m√©dicas"
          }
        },
        {
          "name": "Buscar Citas por Paciente",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/appointments/patient/{{testPatientCedula}}",
              "host": ["{{baseUrl}}"],
              "path": ["appointments", "patient", "{{testPatientCedula}}"]
            },
            "description": "Buscar citas m√©dicas de un paciente espec√≠fico"
          }
        },
        {
          "name": "Buscar Citas por M√©dico",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/appointments/doctor/{{testDoctorCedula}}",
              "host": ["{{baseUrl}}"],
              "path": ["appointments", "doctor", "{{testDoctorCedula}}"]
            },
            "description": "Buscar citas m√©dicas asignadas a un m√©dico espec√≠fico"
          }
        },
        {
          "name": "Calcular Copago",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/billing/calculate/{{testPatientCedula}}?serviceCost=150000",
              "host": ["{{baseUrl}}"],
              "path": ["billing", "calculate", "{{testPatientCedula}}"],
              "query": [
                {
                  "key": "serviceCost",
                  "value": "150000"
                }
              ]
            },
            "description": "Calcular copago para un paciente seg√∫n reglas espec√≠ficas (copago fijo $50,000, l√≠mite anual $1,000,000)"
          }
        },
        {
          "name": "Generar Factura",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientCedula\": \"{{testPatientCedula}}\",\n  \"invoiceDate\": \"2024-12-20\",\n  \"dueDate\": \"2024-12-30\",\n  \"includeConsultations\": true,\n  \"includeProcedures\": true,\n  \"includeMedications\": true,\n  \"includeExams\": true,\n  \"notes\": \"Factura correspondiente a consulta m√©dica del 20/12/2024\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/billing/generate",
              "host": ["{{baseUrl}}"],
              "path": ["billing", "generate"]
            },
            "description": "Generar factura m√©dica con c√°lculo autom√°tico de copagos"
          }
        },
        {
          "name": "Acumulado Anual de Copagos",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/billing/copagos/accumulated?cedula={{testPatientCedula}}",
              "host": ["{{baseUrl}}"],
              "path": ["billing", "copagos", "accumulated"],
              "query": [
                {
                  "key": "cedula",
                  "value": "{{testPatientCedula}}"
                }
              ]
            },
            "description": "Consultar acumulado anual de copagos de un paciente"
          }
        }
      ]
    },
    {
      "name": "üë®‚Äç‚öïÔ∏è M√©dicos (DOCTOR)",
      "item": [
        {
          "name": "Crear Consulta M√©dica",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientCedula\": \"{{testPatientCedula}}\",\n  \"consultationReason\": \"Consulta General\",\n  \"consultationDate\": \"2024-12-20\",\n  \"symptoms\": \"Dolor de cabeza, mareos ocasionales, fatiga general\",\n  \"diagnosis\": \"Migra√±a leve, estr√©s laboral, posible anemia\",\n  \"observations\": \"Paciente presenta signos de estr√©s. Recomendar descanso y manejo del estr√©s. Solicitar hemograma para descartar anemia.\",\n  \"medicationOrders\": [\n    {\n      \"medicationName\": \"Ibuprofeno\",\n      \"dosage\": \"400mg\",\n      \"frequency\": \"Cada 8 horas por 5 d√≠as\"\n    },\n    {\n      \"medicationName\": \"Complejo B\",\n      \"dosage\": \"1 tableta\",\n      \"frequency\": \"1 vez al d√≠a por 30 d√≠as\"\n    }\n  ],\n  \"diagnosticAidOrders\": [\n    {\n      \"diagnosticAidName\": \"Hemograma\",\n      \"observations\": \"Para descartar anemia y evaluar estado general\"\n    },\n    {\n      \"diagnosticAidName\": \"Qu√≠mica Sangu√≠nea\",\n      \"observations\": \"Evaluar funci√≥n renal y hep√°tica\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/medical-records",
              "host": ["{{baseUrl}}"],
              "path": ["medical-records"]
            },
            "description": "Crear nueva consulta m√©dica con diagn√≥stico, medicamentos y ayudas diagn√≥sticas"
          }
        },
        {
          "name": "Buscar Historia Cl√≠nica por Paciente",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/medical-records/patient/{{testPatientCedula}}",
              "host": ["{{baseUrl}}"],
              "path": ["medical-records", "patient", "{{testPatientCedula}}"]
            },
            "description": "Obtener historia cl√≠nica completa de un paciente"
          }
        },
        {
          "name": "Crear Orden M√©dica",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientCedula\": \"{{testPatientCedula}}\",\n  \"doctorCedula\": \"{{testDoctorCedula}}\",\n  \"orderType\": \"MEDICATION\",\n  \"description\": \"Tratamiento para migra√±a y estr√©s\",\n  \"isUrgent\": false,\n  \"medicationOrders\": [\n    {\n      \"medicationName\": \"Ibuprofeno\",\n      \"dosage\": \"400mg\",\n      \"frequency\": \"Cada 8 horas\",\n      \"duration\": \"5 d√≠as\"\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            },
            "description": "Crear nueva orden m√©dica para medicamentos o procedimientos"
          }
        },
        {
          "name": "Listar √ìrdenes M√©dicas",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders",
              "host": ["{{baseUrl}}"],
              "path": ["orders"]
            },
            "description": "Obtener lista de √≥rdenes m√©dicas"
          }
        }
      ]
    },
    {
      "name": "üë©‚Äç‚öïÔ∏è Enfermeras (NURSE)",
      "item": [
        {
          "name": "Crear Visita de Paciente",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"patientCedula\": \"{{testPatientCedula}}\",\n  \"visitDateTime\": \"2024-12-20T09:00:00\",\n  \"visitType\": \"CONTROL\",\n  \"reason\": \"Toma de signos vitales previa a consulta m√©dica\",\n  \"observations\": \"Paciente estable, signos vitales normales, buena disposici√≥n\",\n  \"vitalSigns\": {\n    \"bloodPressure\": \"120/80\",\n    \"heartRate\": 72,\n    \"temperature\": 36.5,\n    \"weight\": 65.5,\n    \"height\": 165,\n    \"oxygenSaturation\": 98,\n    \"respiratoryRate\": 16\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/patient-visits",
              "host": ["{{baseUrl}}"],
              "path": ["patient-visits"]
            },
            "description": "Crear nueva visita de paciente con registro de signos vitales"
          }
        },
        {
          "name": "Listar Visitas",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/patient-visits",
              "host": ["{{baseUrl}}"],
              "path": ["patient-visits"]
            },
            "description": "Obtener lista de visitas de pacientes"
          }
        },
        {
          "name": "Buscar Visitas por Paciente",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/patient-visits/patient/{{testPatientCedula}}",
              "host": ["{{baseUrl}}"],
              "path": ["patient-visits", "patient", "{{testPatientCedula}}"]
            },
            "description": "Buscar visitas de un paciente espec√≠fico"
          }
        }
      ]
    },
    {
      "name": "üîß Soporte de Informaci√≥n (INFORMATION_SUPPORT)",
      "item": [
        {
          "name": "Crear √çtem de Inventario",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Paracetamol 500mg\",\n  \"type\": \"MEDICAMENTO\",\n  \"description\": \"Analg√©sico y antipir√©tico - Tabletas recubiertas\",\n  \"quantity\": 100,\n  \"minimumStock\": 20,\n  \"unitCost\": 150.50,\n  \"supplier\": \"Laboratorios XYZ S.A.\",\n  \"location\": \"Farmacia - Estante A1 - Nivel 2\",\n  \"expirationDate\": \"2025-06-30\",\n  \"isControlledSubstance\": false,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/inventory",
              "host": ["{{baseUrl}}"],
              "path": ["inventory"]
            },
            "description": "Crear nuevo √≠tem en inventario m√©dico con informaci√≥n detallada"
          }
        },
        {
          "name": "Crear Equipo M√©dico",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Estetoscopio Littmann Classic III\",\n  \"type\": \"EQUIPO\",\n  \"description\": \"Estetoscopio profesional para auscultaci√≥n card√≠aca y pulmonar\",\n  \"quantity\": 5,\n  \"minimumStock\": 2,\n  \"unitCost\": 450000.00,\n  \"supplier\": \"Distribuidora M√©dica ABC\",\n  \"location\": \"Consultorio 1 - Gabinete de instrumentaci√≥n\",\n  \"isControlledSubstance\": false,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/inventory",
              "host": ["{{baseUrl}}"],
              "path": ["inventory"]
            },
            "description": "Crear equipo m√©dico en inventario"
          }
        },
        {
          "name": "Crear Suministro M√©dico",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Jeringas 5ml desechables\",\n  \"type\": \"SUMINISTRO\",\n  \"description\": \"Jeringas hipod√©rmicas est√©riles desechables\",\n  \"quantity\": 500,\n  \"minimumStock\": 100,\n  \"unitCost\": 250.00,\n  \"supplier\": \"Suministros M√©dicos Ltda.\",\n  \"location\": \"Sala de Procedimientos - Gabinete 3\",\n  \"expirationDate\": \"2026-12-31\",\n  \"isControlledSubstance\": false,\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/inventory",
              "host": ["{{baseUrl}}"],
              "path": ["inventory"]
            },
            "description": "Crear suministro m√©dico en inventario"
          }
        },
        {
          "name": "Listar √çtems de Inventario",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/inventory",
              "host": ["{{baseUrl}}"],
              "path": ["inventory"]
            },
            "description": "Obtener lista completa de inventario m√©dico"
          }
        },
        {
          "name": "Buscar √çtems por Tipo - Medicamentos",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/inventory/type/MEDICAMENTO",
              "host": ["{{baseUrl}}"],
              "path": ["inventory", "type", "MEDICAMENTO"]
            },
            "description": "Buscar todos los medicamentos en inventario"
          }
        },
        {
          "name": "Ajustar Stock - Agregar",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Paracetamol 500mg\",\n  \"type\": \"MEDICAMENTO\",\n  \"description\": \"Analg√©sico y antipir√©tico - Tabletas recubiertas\",\n  \"quantity\": 150,\n  \"minimumStock\": 20,\n  \"unitCost\": 150.50,\n  \"supplier\": \"Laboratorios XYZ S.A.\",\n  \"location\": \"Farmacia - Estante A1 - Nivel 2\",\n  \"expirationDate\": \"2025-06-30\",\n  \"isControlledSubstance\": false,\n  \"isActive\": true,\n  \"lastAdjustmentReason\": \"Reposici√≥n mensual de medicamentos b√°sicos\",\n  \"lastAdjustmentDate\": \"2024-12-20T08:00:00\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/inventory/1",
              "host": ["{{baseUrl}}"],
              "path": ["inventory", "1"]
            },
            "description": "Ajustar stock agregando cantidad a √≠tem existente"
          }
        }
      ]
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Script de pre-request para configuraci√≥n autom√°tica",
          "console.log('üöÄ Ejecutando pre-request script para colecci√≥n de Cl√≠nica');",
          "console.log('üìÖ Timestamp:', new Date().toISOString());",
          "console.log('üîó Base URL:', pm.variables.get('baseUrl'));",
          "",
          "// Agregar headers comunes si no existen",
          "pm.request.headers.add({",
          "    key: 'User-Agent',",
          "    value: 'Postman-Collection-Testing'",
          "});"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Tests autom√°ticos para validar respuestas",
          "pm.test('‚úÖ Status code is 2xx', function () {",
          "    pm.response.to.be.success;",
          "});",
          "",
          "pm.test('‚ö° Response time is acceptable', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(3000);",
          "});",
          "",
          "pm.test('üìÑ Content-Type is JSON', function () {",
          "    pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
          "});",
          "",
          "// Tests espec√≠ficos por endpoint",
          "if (pm.response.code === 200) {",
          "    pm.test('üéØ Response has valid structure', function () {",
          "        const jsonData = pm.response.json();",
          "        ",
          "        if (pm.request.url.toString().includes('/auth/login')) {",
          "            pm.expect(jsonData).to.have.property('success', true);",
          "            pm.expect(jsonData).to.have.property('user');",
          "            pm.expect(jsonData).to.have.property('token');",
          "            ",
          "            // Guardar token para requests posteriores",
          "            pm.collectionVariables.set('token', jsonData.token);",
          "            console.log('üîë Token guardado:', jsonData.token.substring(0, 20) + '...');",
          "        }",
          "        ",
          "        if (pm.request.url.toString().includes('/users')) {",
          "            if (pm.request.method === 'Get') {",
          "                pm.expect(jsonData).to.be.an('array');",
          "                if (jsonData.length > 0) {",
          "                    pm.expect(jsonData[0]).to.have.property('cedula');",
          "                    pm.expect(jsonData[0]).to.have.property('username');",
          "                }",
          "            } else {",
          "                pm.expect(jsonData).to.have.property('cedula');",
          "                pm.expect(jsonData).to.have.property('username');",
          "            }",
          "        }",
          "        ",
          "        if (pm.request.url.toString().includes('/patients')) {",
          "            if (pm.request.method === 'Get') {",
          "                pm.expect(jsonData).to.be.an('array');",
          "            } else {",
          "                pm.expect(jsonData).to.have.property('cedula');",
          "                pm.expect(jsonData).to.have.property('firstName');",
          "            }",
          "        }",
          "        ",
          "        if (pm.request.url.toString().includes('/inventory')) {",
          "            if (pm.request.method === 'Get') {",
          "                pm.expect(jsonData).to.be.an('array');",
          "            } else {",
          "                pm.expect(jsonData).to.have.property('name');",
          "                pm.expect(jsonData).to.have.property('type');",
          "            }",
          "        }",
          "        ",
          "        if (pm.request.url.toString().includes('/appointments')) {",
          "            if (pm.request.method === 'Get') {",
          "                pm.expect(jsonData).to.be.an('array');",
          "            } else {",
          "                pm.expect(jsonData).to.have.property('appointmentDateTime');",
          "                pm.expect(jsonData).to.have.property('status');",
          "            }",
          "        }",
          "        ",
          "        if (pm.request.url.toString().includes('/medical-records')) {",
          "            pm.expect(jsonData).to.have.property('consultationReason');",
          "            pm.expect(jsonData).to.have.property('consultationDate');",
          "        }",
          "        ",
          "        if (pm.request.url.toString().includes('/patient-visits')) {",
          "            pm.expect(jsonData).to.have.property('visitDateTime');",
          "            pm.expect(jsonData).to.have.property('visitType');",
          "        }",
          "        ",
          "        if (pm.request.url.toString().includes('/billing/calculate')) {",
          "            pm.expect(jsonData).to.have.property('patientPayment');",
          "            pm.expect(jsonData).to.have.property('insuranceCoverage');",
          "            pm.expect(jsonData).to.have.property('newAccumulated');",
          "        }",
          "    });",
          "}",
          "",
          "// Tests espec√≠ficos para errores",
          "if (pm.response.code === 401) {",
          "    pm.test('üö´ Unauthorized error handled correctly', function () {",
          "        const jsonData = pm.response.json();",
          "        pm.expect(jsonData).to.have.property('success', false);",
          "        pm.expect(jsonData).to.have.property('message');",
          "    });",
          "}",
          "",
          "if (pm.response.code === 403) {",
          "    pm.test('‚õî Forbidden error handled correctly', function () {",
          "        const jsonData = pm.response.json();",
          "        pm.expect(jsonData).to.have.property('success', false);",
          "        pm.expect(jsonData).to.have.property('message');",
          "    });",
          "}",
          "",
          "if (pm.response.code === 422) {",
          "    pm.test('üìù Validation error handled correctly', function () {",
          "        const jsonData = pm.response.json();",
          "        pm.expect(jsonData).to.have.property('success', false);",
          "        pm.expect(jsonData).to.have.property('errors');",
          "    });",
          "}",
          "",
          "// Log de informaci√≥n √∫til para debugging",
          "console.log('üìä Response Status:', pm.response.code);",
          "console.log('‚è±Ô∏è Response Time:', pm.response.responseTime + 'ms');",
          "console.log('üìè Response Size:', pm.response.responseSize + 'bytes');"
        ]
      }
    }
  ]
}