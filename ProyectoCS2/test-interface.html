<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba de Interfaz - Sistema Clínico CS2</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .test-container {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
        }

        .test-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .test-header h1 {
            color: #2563eb;
            margin-bottom: 0.5rem;
        }

        .test-header p {
            color: #6b7280;
            margin-bottom: 1rem;
        }

        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
        }

        .status-success {
            background: rgba(16, 185, 129, 0.1);
            color: #059669;
        }

        .status-error {
            background: rgba(239, 68, 68, 0.1);
            color: #dc2626;
        }

        .status-warning {
            background: rgba(245, 158, 11, 0.1);
            color: #d97706;
        }

        .test-section {
            margin-bottom: 1.5rem;
            padding: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
        }

        .test-section h3 {
            color: #1f2937;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .test-button {
            background: #2563eb;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1rem;
            margin: 0.5rem 0.5rem 0.5rem 0;
            transition: background-color 0.2s;
        }

        .test-button:hover {
            background: #1d4ed8;
        }

        .credentials {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1rem;
            margin: 1rem 0;
        }

        .credentials h4 {
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .credential-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e5e7eb;
        }

        .credential-item:last-child {
            border-bottom: none;
        }

        .credential-label {
            font-weight: 500;
            color: #374151;
        }

        .credential-value {
            font-family: monospace;
            background: white;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            border: 1px solid #d1d5db;
            color: #2563eb;
        }

        .steps {
            counter-reset: step-counter;
        }

        .step {
            counter-increment: step-counter;
            margin-bottom: 1rem;
            padding-left: 2rem;
            position: relative;
        }

        .step::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: #2563eb;
            color: white;
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .troubleshooting {
            background: #fef3c7;
            border: 1px solid #f59e0b;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-top: 1rem;
        }

        .troubleshooting h4 {
            color: #92400e;
            margin-bottom: 0.5rem;
        }

        .troubleshooting ul {
            color: #78350f;
            margin: 0;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <div class="test-header">
            <h1>🩺 Sistema Clínico CS2</h1>
            <p>Interfaz gráfica completamente desarrollada y lista para usar</p>
            <div id="connection-status" class="status-indicator status-warning">
                <i class="fas fa-spinner fa-spin"></i>
                Verificando conexión...
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-check-circle"></i> Estado de la Aplicación</h3>
            <p>La interfaz gráfica ha sido desarrollada exitosamente con todas las funcionalidades requeridas.</p>

            <div style="display: flex; gap: 0.5rem; flex-wrap: wrap; margin-top: 1rem;">
                <button class="test-button" onclick="testConnection()">
                    <i class="fas fa-plug"></i>
                    Probar Conexión
                </button>
                <a href="/api/" class="test-button" target="_blank">
                    <i class="fas fa-external-link-alt"></i>
                    Abrir Aplicación
                </a>
                <button class="test-button" onclick="showDiagnosis()">
                    <i class="fas fa-search"></i>
                    Diagnosticar
                </button>
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-key"></i> Credenciales de Acceso</h3>
            <div class="credentials">
                <h4>Usuarios de Prueba Disponibles:</h4>

                <div class="credential-item">
                    <span class="credential-label">Administrativo:</span>
                    <span class="credential-value">maria123 / Maria123!</span>
                </div>
                <div class="credential-item">
                    <span class="credential-label">Médico:</span>
                    <span class="credential-value">ana123 / Ana123!</span>
                </div>
                <div class="credential-item">
                    <span class="credential-label">Enfermera:</span>
                    <span class="credential-value">lucia123 / Lucia123!</span>
                </div>
                <div class="credential-item">
                    <span class="credential-label">Recursos Humanos:</span>
                    <span class="credential-value">carlos123 / Carlos123!</span>
                </div>
                <div class="credential-item">
                    <span class="credential-label">Soporte:</span>
                    <span class="credential-value">jorge123 / Jorge123!</span>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-list-ol"></i> Pasos para Probar</h3>
            <div class="steps">
                <div class="step">
                    <strong>Abrir la aplicación:</strong> Haga clic en "Abrir Aplicación" arriba o vaya a <code>http://localhost:8081/api/</code>
                </div>
                <div class="step">
                    <strong>Iniciar sesión:</strong> Use cualquiera de las credenciales mostradas arriba según el rol que quiera probar
                </div>
                <div class="step">
                    <strong>Explorar funcionalidades:</strong> Navegue por los diferentes módulos según su rol (pacientes, órdenes médicas, inventario, etc.)
                </div>
                <div class="step">
                    <strong>Probar operaciones:</strong> Cree pacientes, genere órdenes médicas, registre signos vitales, etc.
                </div>
            </div>
        </div>

        <div class="test-section">
            <h3><i class="fas fa-info-circle"></i> Características Implementadas</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-top: 1rem;">
                <div style="padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <strong>🎨 Diseño Moderno</strong>
                    <p style="font-size: 0.875rem; color: #6b7280; margin-top: 0.5rem;">Interfaz responsiva y profesional</p>
                </div>
                <div style="padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <strong>👥 Gestión por Roles</strong>
                    <p style="font-size: 0.875rem; color: #6b7280; margin-top: 0.5rem;">Diferentes funcionalidades por usuario</p>
                </div>
                <div style="padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <strong>🔗 Integración Completa</strong>
                    <p style="font-size: 0.875rem; color: #6b7280; margin-top: 0.5rem;">Conectada al backend existente</p>
                </div>
                <div style="padding: 1rem; background: #f8fafc; border-radius: 0.5rem;">
                    <strong>📱 Móvil Primero</strong>
                    <p style="font-size: 0.875rem; color: #6b7280; margin-top: 0.5rem;">Funciona en todos los dispositivos</p>
                </div>
            </div>
        </div>

        <div class="troubleshooting">
            <h4><i class="fas fa-exclamation-triangle"></i> ¿Problemas de Conexión?</h4>
            <ul>
                <li>Asegúrese de que el servidor esté corriendo en el puerto 8081</li>
                <li>Verifique que los datos de prueba se hayan inicializado correctamente</li>
                <li>Use las credenciales exactas mostradas arriba (distingue mayúsculas)</li>
                <li>Si persiste el problema, haga clic en "Diagnosticar" para obtener más detalles</li>
            </ul>
        </div>
    </div>

    <script>
        // Función para probar conexión
        async function testConnection() {
            const statusElement = document.getElementById('connection-status');

            try {
                // Probar conexión al servidor
                const response = await fetch('http://localhost:8081/api/actuator/health');
                const data = await response.json();

                if (data.status === 'UP') {
                    statusElement.className = 'status-indicator status-success';
                    statusElement.innerHTML = '<i class="fas fa-check-circle"></i> Servidor conectado correctamente';
                } else {
                    statusElement.className = 'status-indicator status-error';
                    statusElement.innerHTML = '<i class="fas fa-times-circle"></i> Servidor respondiendo pero con problemas';
                }
            } catch (error) {
                statusElement.className = 'status-indicator status-error';
                statusElement.innerHTML = '<i class="fas fa-times-circle"></i> No se puede conectar con el servidor';

                alert('Error de conexión: ' + error.message + '\n\nAsegúrese de que el servidor esté corriendo en el puerto 8081.');
            }
        }

        // Función para mostrar diagnóstico
        function showDiagnosis() {
            alert('Para diagnosticar problemas:\n\n1. Abra la consola del navegador (F12)\n2. Vaya a la aplicación: http://localhost:8081/api/\n3. Presione F12 y revise la pestaña "Console" para ver errores\n4. Use las funciones de diagnóstico disponibles en la aplicación');
        }

        // Probar conexión automáticamente al cargar la página
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(testConnection, 1000);
        });
    </script>
</body>
</html>