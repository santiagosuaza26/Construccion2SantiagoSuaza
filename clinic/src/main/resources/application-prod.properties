# Configuración de Producción - PostgreSQL
# Este archivo debe copiarse como application-prod.properties y configurarse con valores reales

# Perfil de producción
spring.profiles.active=prod

# Base de datos PostgreSQL - Configurar estas variables de entorno
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/clinic_db}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:clinic_user}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:change_this_password}
spring.datasource.driver-class-name=org.postgresql.Driver

# JPA/Hibernate Configuration para PostgreSQL
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Flyway Configuration - Habilitado para PostgreSQL
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.baseline-version=0
spring.flyway.locations=classpath:db/migration
spring.flyway.validate-on-migrate=true
spring.flyway.clean-disabled=true

# JWT Configuration - Cambiar en producción
jwt.secret-key=${JWT_SECRET:your_super_secure_jwt_secret_key_here_minimum_256_bits}
jwt.expiration-time=86400000

# MongoDB Configuration para registros médicos
spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/clinic_medical_records}
spring.data.mongodb.database=${MONGODB_DATABASE:clinic_medical_records}

# Redis Configuration
spring.data.redis.host=${SPRING_DATA_REDIS_HOST:localhost}
spring.data.redis.port=${SPRING_DATA_REDIS_PORT:6379}
spring.data.redis.password=${SPRING_DATA_REDIS_PASSWORD:}
spring.data.redis.database=0

# Logging Configuration - Menos verboso en producción
logging.level.app.clinic=INFO
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=WARN
logging.level.org.springframework.security=DEBUG

# Business Rules Configuration
app.billing.copayment.amount=50000
app.billing.annual.copayment.limit=1000000
app.billing.copayment.currency=COP

# Application Settings
app.name=Clinic Management System
app.version=1.0.0
app.description=Sistema de gestión clínica de producción

# API Documentation - Deshabilitar en producción por seguridad
springdoc.api-docs.enabled=false
springdoc.swagger-ui.enabled=false

# Management Endpoints - Solo health en producción
management.endpoints.web.exposure.include=health
management.endpoint.health.show-details=never
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true

# Error Handling - Menos información en producción
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-stacktrace=never
server.error.include-exception=false

# Connection Pool Configuration
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=1200000
spring.datasource.hikari.connection-timeout=20000

# File Upload Configuration
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB